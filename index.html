<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Weather Dashboard</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- Compressed CSS -->
    <link rel="stylesheet" href="./develop/style/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/foundation-sites@6.6.3/dist/css/foundation.min.css" integrity="sha256-ogmFxjqiTMnZhxCqVmcqTvjfe1Y/ec4WaRj/aQPvn+I=" crossorigin="anonymous">

    <!-- Compressed JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/foundation-sites@6.6.3/dist/js/foundation.min.js" integrity="sha256-pRF3zifJRA9jXGv++b06qwtSqX1byFQOLjqa2PTEb2o=" crossorigin="anonymous"></script>
</head>
<body>
    
    
    <div class="weatherContainer">
        <div class="grid-y medium-grid-frame">
            <div class="cell shrink header medium-cell-block-container">
              <h1>Grid Frame Header</h1>
              <div class="grid-x grid-padding-x">
                <div class="medium-4 cell">
                    <div class="input-group">
                        <span class="input-group-label">City</span>
                        <input class="input-group-field" id="citySearchID" type="text">
                        <div class="input-group-button">
                          <input type="submit" id="citySearchBtn" class="button" value="Search">
                        </div>
                      </div>
                  </div>
                <div class="cell medium-4 medium-cell-block">
                  <p style="width:80vw;">A medium 4 cell block... on medium this content should overflow and let you horizontally scroll across... one might use this for an array of options</p>
                </div>
                <div class="cell medium-4">
                  A medium 4 cell
                </div>
              </div>
            </div>
            <div class="cell medium-auto medium-cell-block-container">
              <div class="grid-x grid-padding-x">
                <div class="cell medium-4 medium-cell-block-y">
                  <h2>Independent scrolling sidebar</h2>
                  <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer lacus odio, accumsan id ullamcorper eget, varius nec erat. Nulla facilisi. Donec dui felis, euismod nec finibus vitae, dapibus quis arcu. Maecenas tempor et ipsum quis venenatis. Ut posuere sed augue sit amet efficitur. Sed imperdiet, justo id tempus rhoncus, est est viverra turpis, non vulputate magna lectus et nisl. Pellentesque ultrices porttitor vehicula. Ut aliquet efficitur ligula, a consectetur felis. Proin tristique ut augue nec luctus. Curabitur a sapien pretium, auctor elit a, efficitur erat. Donec tincidunt dui vel velit bibendum euismod. Cras vitae nibh dui. Aliquam erat volutpat. Etiam sit amet arcu a erat efficitur facilisis. Ut viverra dapibus turpis, et ornare justo. Integer in dui cursus, dignissim tortor a, hendrerit risus.</p>
          
                
                </div>
                <div class="cell medium-8 medium-cell-block-y" id="storedCities">
                  <h2 id="cityName">City</h2>
                  <p id="tempSlot">Temperature</p>
                  <p id="humiditySlot">Humidity</p>
                  <p id="windSpeedSlot">Wind Speed</p>
                </div>
              </div>
            </div>
            <div class="cell shrink footer">
              <h3>Here's my footer</h3>
            </div>
          </div>    

    <!--TO DO-->
    <!--
        Aqcuire CSS Framework - FOUNDATION
        Acquire Weather API - YES
        Create Critical HTML Elements
        Write function for AJAX Call
        Write JQuery to set new elements
        Add eventlisteners (city buttons and search input)
        I will need to make three seperate API calls- one for weather, one for five day, and one for UV
        Set cities searched to localstorage, and then generate those calls again when the page is reloaded
    -->    


        
    </div>

    <script>
        const APIKey = "43b5b86a3681230a45961cc32737a765";
        const citySearch = $('#citySearchID');
        let cityName = $("#cityName");
        let tempSlot = $("#tempSlot");
        let humiditySlot = $("#humiditySlot");
        let windSpeedSlot = $("#windSpeedSlot");
        $("#citySearchBtn").click(function (){
        
        const city = (citySearch).val();
          saveCity(city);
          makeCityBtn(city);
          getWeather(city);
        })

        function getWeather(city ){
          let queryURL = "https://api.openweathermap.org/data/2.5/weather?q=" + city + "&appid=" + APIKey;
          $.ajax({
            url: queryURL,
            method: "GET"
            }).then(function(response) {
                console.log(response);
                (cityName).text(response.name)
                tempSlot.text(((response.main.temp) - 273.15) * 9/5 + 32);
                humiditySlot.text(response.main.humidity);
                windSpeedSlot.text(response.wind.speed);
            })
        }

        function saveCity (city) {
          console.log("save city: " + city);
        }

        function makeCityBtn (city) {
          console.log("make city: " + city);
        }
    </script>
</body>
</html>